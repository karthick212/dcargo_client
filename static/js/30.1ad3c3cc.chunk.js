(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[30],{623:function(e,t,a){"use strict";var r=a(626),n=a.n(r);t.a=n.a.create({baseURL:"http://52.90.37.192:4000/api/"})},630:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(1),n=a.n(r),s=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t.split(",");return Object.keys(e).forEach((function(t){a.includes(t)||(e[t]="")})),e},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e,l=i(r.error),c=t.map((function(e){return e.key})),o=a.map((function(e){return e.key}));return r.isError=!1,Object.keys(r).forEach((function(e){if(c.includes(e)&&""===r[e]){r.isError=!0;var i=t.filter((function(t){return t.key==e}))[0].errVal;l[e]=n.a.createElement("span",{className:"error"},n.a.createElement("i",{class:"fa fa-exclamation-circle","aria-hidden":"true"})," ",i)}else if(o.includes(e)&&!s(r[e])){r.isError=!0;var m=a.filter((function(t){return t.key==e}))[0].errVal;l[e]=n.a.createElement("span",{className:"error"},n.a.createElement("i",{class:"fa fa-exclamation-circle","aria-hidden":"true"})," ",m)}})),r}},792:function(e,t,a){"use strict";a.r(t);var r=a(157),n=a(158),s=a(160),i=a(159),l=a(1),c=a.n(l),o=a(686),m=a(687),u=a(689),d=a(688),f=a(794),p=a.n(f),h=(a(793),a(630)),E=a(623),v=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onPreview=function(){n.setState({filepath:"http://freelancetypers.com/images/works/"+n.state.filename})},n.onChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState({data:t}),t.isError&&n.onValidation(t)},n.onValidation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[{key:"requesterid",errVal:"Enter Requester"},{key:"filename",errVal:"Enter Filename"},{key:"startdate",errVal:"Enter Entry Date"},{key:"expiredate",errVal:"Enter Expire Date"}],a=Object(h.a)(""===e?n.state:e,t);return n.setState({data:a}),a.isError},n.onSubmit=function(e){n.state;if(!n.onValidation())if(n.state.isUpdate){var t=n.state;t.action="update",t.userid="1",E.a.post("/Works/Update",t).then((function(e){"success"===e.data.status&&(n.props.history.push("/Requesters"),alert("Requester Details Updated Successfully..!!"))}))}else{var a=n.state;a.userid="1",E.a.post("/Works/Add",a).then((function(e){console.log(e),"success"===e.data.status&&n.props.history.push("/views/work"),alert("Requester Details Added Successfully..!!")})).catch((function(e){console.log(e)}))}},n.componentDidMount=function(){void 0!==n.props.location.state?(E.a.get("/Requesters").then((function(e){n.setState({loadRequester:e.data.data})})),E.a.get("/Works",{params:{id:n.props.location.state.id}}).then((function(e){var t=e.data.data[0];n.setState({id:t.id,requesterid:t.requesterid,startdate:new Date(t.startDate),expiredate:new Date(t.expireDate),filename:t.fileName,isUpdate:!0})}))):E.a.get("/Requesters").then((function(e){n.setState({loadRequester:e.data.data})}))},n.state={id:"1",requesterid:"",startdate:new Date,expiredate:new Date,filename:"",filepath:"",loadRequester:[],isError:!1,isUpdate:!1,error:{requesterid:"",startdate:"",expiredate:"",filename:""}},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.state.isUpdate?"Update":"Add",a=[],r=this.state.loadRequester;for(var n in r)a.push(c.a.createElement("option",{key:n,value:r[n].ID},r[n].RequesterName));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"menubar"},c.a.createElement("div",{className:"row text-left"},c.a.createElement("div",{className:"col-2"}),c.a.createElement("div",{className:"col-8"},c.a.createElement(o.a,null,c.a.createElement(m.a,{tag:"h4"},t," Work"),c.a.createElement(u.a,{className:"padding-20 font-weight-bold"},"1"!==this.state.id?c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Work ID"),c.a.createElement("input",{name:"id",type:"text",className:"form-control",disabled:!0,value:this.state.id})):"",c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Requester"),c.a.createElement("select",{name:"requesterid",type:"text",className:"form-control",required:!0,onChange:this.onChange,value:this.state.requesterid},c.a.createElement("option",{key:"select"},"Select"),a),this.state.error.requesterid),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Entry Date"),c.a.createElement("div",null,c.a.createElement(p.a,{dateFormat:"dd-MM-yyyy HH:mm:ss",showTimeSelect:!0,timeIntervals:1,className:"form-control",selected:this.state.startdate,onChange:function(t){return e.setState({startdate:t})}})),this.state.error.startdate),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Expiry Date"),c.a.createElement("div",null,c.a.createElement(p.a,{className:"form-control",dateFormat:"dd-MM-yyyy HH:mm:ss",showTimeSelect:!0,timeIntervals:1,selected:this.state.expiredate,onChange:function(t){return e.setState({expiredate:t})}})),this.state.error.expiredate),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Image File Name"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{name:"filename",type:"text",className:"form-control",value:this.state.filename,onChange:this.onChange})," "),c.a.createElement("div",{className:"col-2"},c.a.createElement(d.a,{color:"info",onClick:this.onPreview},"Preview"))),c.a.createElement("img",{src:this.state.filepath}),this.state.error.filename),c.a.createElement("div",{className:"text-right"},c.a.createElement(d.a,{color:"primary",onClick:this.onSubmit},"Submit"),"  ",c.a.createElement(d.a,{color:"secondary",onClick:this.clear},"Clear"))))),c.a.createElement("div",{className:"col-2"}))))}}]),a}(c.a.Component);t.default=v}}]);
//# sourceMappingURL=30.1ad3c3cc.chunk.js.map